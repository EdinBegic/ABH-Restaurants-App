<div class="restaurant-background">
    {{main-navigation}}
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="reservation-label">Make a free reservation</div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <!-- TODO display real number of restaurants -->
                <div class="table-label">Choose your table from 757 restaurants near you</div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12" id="searchBar">
                <div class="search-bar">
                    <div class="input-group mb-3">
                        <div class="row"></div>
                        <div class="input-group-prepend">
                            <span class="input-group-text search-field search-text">{{material-icon "search"}}</span>
                            {{input class="search-field" id="search" placeholder='Location, Restaurant or Cousine'
                            value=query}}
                        </div>
                        <select class="list-field form-control ">
                            <option value=1>2 people</option>
                            <option value=2>Test2</option>
                        </select>
                        <select class="form-control list-field">
                            <option value=1>Apr 29, 2018.</option>
                            <option value=2>Test2</option>
                        </select>
                        <select class="form-control list-field">
                            <option value=1>7:00 PM</option>
                            <option value=2>Test2</option>
                        </select>
                        <button type="submit" class="form-control table-button btn">Find a table</button>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <span class="twitter-typeahead tt-dropdown-menu" style="position: absolute;">
                                {{#each suggestions as |suggestion|}}
                                <div class="tt-suggestion" {{action "setRestaurant" suggestion on="click"}}>{{suggestion.name}},
                                    {{suggestion.location.city}}</div>
                                {{/each}}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="top-restaurants">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="popular-today-label">Popular for lunch today</div>
            </div>
        </div>
        {{#each (chunk 3 model.restaurants) as |restaurantRow|}}
        <div class="row restaurant-row">
            {{#each restaurantRow as |restaurant|}}
            <div class="col-md-4">
                <div class="row ">
                    <div class="col-md-12">
                        <img src={{restaurant.logoPath}} class="restaurant-picture">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="restaurant-name-label">{{restaurant.name}}</div>
                    </div>
                </div>
                <div class="row stats-row">
                    <div class="star-rating" style="padding-left: 15px">
                        {{star-rating restaurant.avgRating numStars=5 readOnly=true baseColor="#E5E5E5"
                        fillColor="#fd6f60" width=20
                        height=15 }}
                    </div>
                    <div class="restaurant-review-label">({{restaurant.numOfReviews}})</div>
                    {{price-range restaurant.priceRange}}
                </div>
                <div class="row">
                    <!-- Not sure what to put here -->
                    <div class="col-md-12">
                        <div class="restaurant-type-label">{{restaurant.cousine.name}} |
                            {{restaurant.category.name}}</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <button type="submit" class="form-control reserve-button btn"
                            {{action "reserveNow" restaurant.id}}>Reserve now</button>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
        {{/each}}

    </div>
</div>

<!-- Specials stays  hard-coded for now-->
<div class="specials">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="specials-label">Specials</div>
            </div>
        </div>
        <div class="row specials-row">
            <div class="col-md-4">
                <div class="row">
                    <div class="col-md-12" style="padding-bottom:20px;">
                        <img src="/assets/images/pizza.jpg" class="special-picture">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="special-name-label">Best Pizza of 2018</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="loc-num-label">New York | 43 restaurants</div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="row">
                    <div class="col-md-12" style="padding-bottom:20px;">
                        <img src="/assets/images/spicy.jpg" class="special-picture">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="special-name-label">Fresh &amp; Spicy</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="loc-num-label">Philladelphia | 16 restaurants</div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="row">
                    <div class="col-md-12" style="padding-bottom:20px;">
                        <img src="/assets/images/cupcakes.png" class="special-picture">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="special-name-label">Cupcakes Flavor</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="loc-num-label">Chicago | 11 restaurants</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="more-specials-label">
                    <a href="#">See all specials</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="popular-locations">
    <div class="container">
        <div class="row" style="padding-bottom:50px;">
            <div class="col-md-12">
                <div class="popular-locations-label">Popular locations</div>
            </div>
        </div>
        <div class="row">
            {{#each model.topLocations as |topLocation|}}
            <div class="col-md-3">
                <div class="row">
                    <div class="col-md-12">
                        <div class="location-label">{{ topLocation.[0].city }}, {{ topLocation.[0].country }}</div>
                    </div>
                    <div class="col-md-12">
                        <div class="num-of-restaurants">{{ topLocation.[1] }}
                            {{#if (eq topLocation.[1] 1)}}
                                restaurant
                            {{else}}
                                restaurants
                            {{/if}}
                        </div>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
</div>